import{d as S,m as C,u as P,a as d,b as I,c as D}from"./override-BFaICR1o.js";import{_ as F}from"./DstModal-CeXaOj72.js";import{s as j,$ as G,u as p,z as O,B as A,o as i,e as L,j as f,i as m,b as e,G as o,c as n,F as U,d as z,k as V,p as q}from"./vendor-KxyM20Hl.js";import"./browser-polyfill-CXcayLWt.js";import"./ui-CLaKVJwO.js";const N="/dist/assets/demo-bg-BDSIJh0x.png",R={class:"w-full px-6 py-3 border-b border-secondary-100 flex items-center justify-end relative rounded-t-2xl"},W={class:"w-full flex flex-col items-center px-6"},$={class:"absolute w-full h-[400px] overflow-hidden bg-[#c4def7]"},E=["poster"],J=["src"],H=["src"],K={class:"flex items-center justify-center mt-9 relative",dir:"ltr"},Q={class:"text-center text-primary-500 text-base font-semibold"},se=j({__name:"SettingBackgroundPreview",emits:["submit"],setup(T,{emit:_}){var u;const v=_,r=S(C),{t:g}=G(),{isPlusMember:h}=P(),s=p(()=>{var a;return((a=r.value.backgroundPreviewModal.extraData)==null?void 0:a.category.wallpapers)??[]}),t=O(((u=r.value.backgroundPreviewModal.extraData)==null?void 0:u.selectedIndex)??0),w=p(()=>{var a;return(a=s.value[t.value])==null?void 0:a.video});A(r,()=>{r.value.backgroundPreviewModal.extraData&&(t.value=r.value.backgroundPreviewModal.extraData.selectedIndex)});const x=()=>{d("backgroundPreviewModal",{isOpen:!1})},k=()=>{const a=r.value.backgroundPreviewModal.extraData.category;if(!h.value&&a.isPlus){d("plusModal",{isOpen:!0});return}v("submit",{wallpaper:s.value[t.value],category:a}),d("backgroundPreviewModal",{isOpen:!1})},y=()=>{t.value+=1,t.value===s.value.length&&(t.value=0)},b=()=>{if(t.value===0){t.value=s.value.length-1;return}t.value-=1};return(a,l)=>{const B=I,M=D;return i(),L(F,{name:"backgroundPreviewModal","can-close":!0},{default:f(()=>[m(M,{"class-name":"w-6sq rounded-2xl md:w-8sq"},{default:f(()=>[e("div",R,[m(B,{onClick:x,height:11,width:10,class:"cursor-pointer stroke-secondary-800"})]),e("div",W,[e("div",$,[o(w)?(i(),n("video",{autoplay:"",muted:"",loop:"",class:"w-full",key:o(s)[o(t)].video,poster:o(s)[o(t)].mainImage||o(s)[o(t)].thumbnail},[e("source",{src:o(s)[o(t)].video,type:"video/mp4"},null,8,J)],8,E)):(i(),n("img",{key:1,loading:"lazy",class:"w-full",src:o(s)[o(t)].mainImage},null,8,H))]),e("div",{dir:"ltr",class:"relative w-full rounded-lg mt-4 flex items-center justify-around select-none"},[e("div",{class:"p-2",onClick:b},l[0]||(l[0]=[e("svg",{class:"cursor-pointer",width:"33",height:"39",viewBox:"0 0 33 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{filter:"url(#filter0_d_4993_47710)"},[e("path",{d:"M20 8.39062L13 15.3906L20 22.3906",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("filter",{id:"filter0_d_4993_47710",x:"0.65",y:"0.0406246",width:"31.7",height:"38.7",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[e("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),e("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e("feOffset",{dy:"4"}),e("feGaussianBlur",{stdDeviation:"5.55"}),e("feComposite",{in2:"hardAlpha",operator:"out"}),e("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.31 0"}),e("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4993_47710"}),e("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4993_47710",result:"shape"})])])],-1)])),l[2]||(l[2]=e("img",{src:N,alt:""},null,-1)),e("div",{class:"p-2",onClick:y},l[1]||(l[1]=[e("svg",{class:"cursor-pointer",width:"33",height:"39",viewBox:"0 0 33 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{filter:"url(#filter0_d_4993_47711)"},[e("path",{d:"M13 8.39062L20 15.3906L13 22.3906",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("filter",{id:"filter0_d_4993_47711",x:"0.65",y:"0.0406246",width:"31.7",height:"38.7",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[e("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),e("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e("feOffset",{dy:"4"}),e("feGaussianBlur",{stdDeviation:"5.55"}),e("feComposite",{in2:"hardAlpha",operator:"out"}),e("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.31 0"}),e("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4993_47711"}),e("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4993_47711",result:"shape"})])])],-1)]))]),e("div",K,[(i(!0),n(U,null,z(o(s),(X,c)=>(i(),n("div",{key:c,class:V(c===o(t)?"w-4 h-1 bg-secondary-800 rounded-full mr-1 ":"w-1 h-1 bg-secondary-200 rounded-full mr-1 ")},null,2))),128))]),e("button",{onClick:k,class:"relative w-full px-28 py-4 bg-primary-100 hover:bg-primary-200 rounded-lg justify-center items-center gap-1.5 inline-flex mt-8 mb-5"},[e("span",Q,q(o(g)("select_as_background")),1)])])]),_:1})]),_:1})}}});export{se as default};
